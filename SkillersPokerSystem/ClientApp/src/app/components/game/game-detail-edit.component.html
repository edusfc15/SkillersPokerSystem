<div class="container">

  <h2>Caixa</h2>

  <h4>Jogadores</h4>


  <form [formGroup]="gameDetailForm" class="form">


    <div formArrayName="gameDetailsArray">
      <div *ngFor="let item of gameDetails.controls; let gdIndex=index" [formGroupName]="gdIndex" class="form-inline">
        <div class="form-group">
          <label>Jogador:</label>
          <select formControlName="PlayerId" class="form-control">
            <option value="">Escolha um jogador...</option>
            <option *ngFor="let player of players; let pIndex = index" [value]="player.Id">{{ player.Name}}</option>
          </select>
        </div>
        <div class="form-group" *ngIf="isBuyIn">
          <label>Buy in:</label>
          <input formControlName="Value" type="range" class="form-control custom-range" min="5" max="50" step="5">
        </div>

        <div class="form-group" *ngIf="isBuyIn">
          <input formControlName="Value" value="{{ this.gameDetails.controls[gdIndex].value.Value}}" class="form-control" type="number" min="5" max="1000" step="5">
        </div>

        <div class="form-group" *ngIf="!isBuyIn">
          <label>Cash out:</label>
          <input formControlName="ChipsTotal" type="range" class="form-control custom-range" min="0" max="100" step="5">
        </div>

        <div class="form-group" *ngIf="!isBuyIn">
          <input formControlName="ChipsTotal" value="{{ this.gameDetails.controls[gdIndex].value.ChipsTotal}}" class="form-control" type="number" min="0" max="5000" step="0.25">
        </div>

        <button type="button" (click)="deleteGameDetails(gdIndex)">Deletar jogador</button>

      </div>
      <button type="button" (click)="addGameDetails()">Adicionar jogador</button>
    </div>
    <button type="button" (click)="onSubmit(this.gameDetails)">Confirmar</button>
    <button type="button" [routerLink]="['/game', this.routeGameId ]"  >Cancelar</button>

  </form>

 
</div>
